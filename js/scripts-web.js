(function(t){var e=[],n=function(){},s={defaultPath:"/",before:n,on:n,notfound:n},i={current:null,previous:null,config:function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);return i},add:function(t,n,s){return t&&n&&("function"==typeof n&&(s=n,n=null),e.push({path:t,name:n,fn:s||function(){}})),i},go:function(t){return location.hash=t,i},back:function(t){return i.previous?(history.back(),i.previous=null):t&&(location.hash=t),i}},r=function(){var t=location.hash.slice(1),n=!1,r=i.current;t||(t=s.defaultPath),r&&r!=i.previous&&(i.previous=r),i.current=t;for(var o=0,a=e.length;a>o&&!n;o++){var u=e[o],c=u.path,l=u.name,f=u.fn;if("string"==typeof c)c.toLowerCase()==t.toLowerCase()&&(s.before.call(i,c,l),f.call(i),s.on.call(i,c,l),n=!0);else{var p=t.match(c);p&&(s.before.call(i,c,l,p),f.apply(i,p),s.on.call(i,c,l,p),n=!0)}}return n||s.notfound.call(i,c),i};i.init=function(){return t.addEventListener("hashchange",r),r()},i.reload=r,t.ruto=i})(window),function(t,e){function n(t,n){s.addType(t,function(r,o,a){var u,c,l,f,p=o,b=(new Date).getTime();if(!r){p={},f=[],l=0;try{for(r=n.length;r=n.key(l++);)i.test(r)&&(c=JSON.parse(n.getItem(r)),c.expires&&b>=c.expires?f.push(r):p[r.replace(i,"")]=c.data);for(;r=f.pop();)n.removeItem(r)}catch(d){}return p}if(r="__amplify__"+r,o===e){if(u=n.getItem(r),c=u?JSON.parse(u):{expires:-1},!(c.expires&&b>=c.expires))return c.data;n.removeItem(r)}else if(null===o)n.removeItem(r);else{c=JSON.stringify({data:o,expires:a.expires?b+a.expires:null});try{n.setItem(r,c)}catch(d){s[t]();try{n.setItem(r,c)}catch(d){throw s.error()}}}return p})}var s=t.store=function(t,e,n){var i=s.type;return n&&n.type&&n.type in s.types&&(i=n.type),s.types[i](t,e,n||{})};s.types={},s.type=null,s.addType=function(t,e){s.type||(s.type=t),s.types[t]=e,s[t]=function(e,n,i){return i=i||{},i.type=t,s(e,n,i)}},s.error=function(){return"amplify.store quota exceeded"};var i=/^__amplify__/;for(var r in{localStorage:1,sessionStorage:1})try{window[r].setItem("__amplify__","x"),window[r].removeItem("__amplify__"),n(r,window[r])}catch(o){}if(!s.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===s.type&&(s.type="globalStorage")}catch(o){}(function(){if(!s.types.localStorage){var t=document.createElement("div"),n="amplify";t.style.display="none",document.getElementsByTagName("head")[0].appendChild(t);try{t.addBehavior("#default#userdata"),t.load(n)}catch(i){return t.parentNode.removeChild(t),e}s.addType("userData",function(i,r,o){t.load(n);var a,u,c,l,f,p=r,b=(new Date).getTime();if(!i){for(p={},f=[],l=0;a=t.XMLDocument.documentElement.attributes[l++];)u=JSON.parse(a.value),u.expires&&b>=u.expires?f.push(a.name):p[a.name]=u.data;for(;i=f.pop();)t.removeAttribute(i);return t.save(n),p}if(i=i.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),i=i.replace(/^-/,"_-"),r===e){if(a=t.getAttribute(i),u=a?JSON.parse(a):{expires:-1},!(u.expires&&b>=u.expires))return u.data;t.removeAttribute(i)}else null===r?t.removeAttribute(i):(c=t.getAttribute(i),u=JSON.stringify({data:r,expires:o.expires?b+o.expires:null}),t.setAttribute(i,u));try{t.save(n)}catch(d){null===c?t.removeAttribute(i):t.setAttribute(i,c),s.userData();try{t.setAttribute(i,u),t.save(n)}catch(d){throw null===c?t.removeAttribute(i):t.setAttribute(i,c),s.error()}}return p})}})(),function(){function t(t){return t===e?e:JSON.parse(JSON.stringify(t))}var n={},i={};s.addType("memory",function(s,r,o){return s?r===e?t(n[s]):(i[s]&&(clearTimeout(i[s]),delete i[s]),null===r?(delete n[s],null):(n[s]=r,o.expires&&(i[s]=setTimeout(function(){delete n[s],delete i[s]},o.expires)),r)):t(n)})}()}(this.amplify=this.amplify||{});var Hogan={};(function(t,e){function n(t,e,n){var s;return e&&"object"==typeof e&&(null!=e[t]?s=e[t]:n&&e.get&&"function"==typeof e.get&&(s=e.get(t))),s}function s(t,e,n,s){function i(){}function r(){}i.prototype=t,r.prototype=t.subs;var o,a=new i;a.subs=new r,a.subsText={},a.ib();for(o in e)a.subs[o]=e[o],a.subsText[o]=s;for(o in n)a.partials[o]=n[o];return a}function i(t){return(null===t||void 0===t?"":t)+""}function r(t){return t=i(t),f.test(t)?t.replace(o,"&amp;").replace(a,"&lt;").replace(u,"&gt;").replace(c,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,e,n,s){t=t||{},this.r=t.code||this.r,this.c=n,this.options=s||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(){return""},v:r,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw Error("No compiler available.");i=this.c.compile(i,this.options)}return i?(this.partials[t].base=i,n.subs&&(void 0===this.activeSub&&(e.stackText=this.text),i=s(i,n.subs,n.partials,e.stackText||this.text)),this.partials[t].instance=i,i):null},rp:function(t,e,n,s){var i=this.ep(t,n);return i?i.ri(e,n,s):""},rs:function(t,e,n){var s=t[t.length-1];if(!p(s))return n(t,e,this),void 0;for(var i=0;s.length>i;i++)t.push(s[i]),n(t,e,this),t.pop()},s:function(t,e,n,s,i,r,o){var a;return p(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,n,s,i,r,o)),a=!!t,!s&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,s,i){var r,o=t.split("."),a=this.f(o[0],e,s,i),u=this.options.modelGet,c=null;if("."===t&&p(e[e.length-2]))a=e[e.length-1];else for(var l=1;o.length>l;l++)r=n(o[l],a,u),null!=r?(c=a,a=r):a="";return i&&!a?!1:(i||"function"!=typeof a||(e.push(c),a=this.mv(a,e,s),e.pop()),a)},f:function(t,e,s,i){for(var r=!1,o=null,a=!1,u=this.options.modelGet,c=e.length-1;c>=0;c--)if(o=e[c],r=n(t,o,u),null!=r){a=!0;break}return a?(i||"function"!=typeof r||(r=this.mv(r,e,s)),r):i?!1:""},ls:function(t,e,n,s,r){var o=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(i(t.call(e,s)),e,n)),this.options.delimiters=o,!1},ct:function(t,e,n){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,n,s,i,r,o){var a,u=e[e.length-1],c=t.call(u);return"function"==typeof c?s?!0:(a=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,u,n,a.substring(i,r),o)):c},mv:function(t,e,n){var s=e[e.length-1],r=t.call(s);return"function"==typeof r?this.ct(i(r.call(s)),s,n):r},sub:function(t,e,n,s){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,s),this.activeSub=!1)}};var o=/&/g,a=/</g,u=/>/g,c=/\'/g,l=/\"/g,f=/[&<>\"\']/,p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}})("undefined"!=typeof exports?exports:Hogan),function(t){var e=function(){return+new Date},n=!!t.XDomainRequest,s="withCredentials"in new XMLHttpRequest||n,i=!1,r=15e3,o={};try{i=new Worker("js/hnapi-worker.js"),i.addEventListener("message",function(t){var e=t.data,n=e.url||"";if(o[n]){var s=o[n];e.error?s.error(e.error):s.success(e.response),delete o[n]}},!1)}catch(a){}var u=function(a,u,c){if(u||(u=function(){}),c||(c=function(){}),s)if(i)o[a]={success:u,error:c},i.postMessage({url:a,timeout:r});else{var l=o[a]||(n?new XDomainRequest:new XMLHttpRequest);l._timeout&&clearTimeout(l._timeout),l._timeout=setTimeout(function(){l.abort()},r),l.onload=function(){clearTimeout(this._timeout),delete o[a];try{u(JSON.parse(this.responseText))}catch(t){c(t)}},l.onerror=l.onabort=l.ontimeout=function(t){clearTimeout(this._timeout),delete o[a],c(t)},(1>=l.readyState||n)&&(l.open("GET",a+"?"+e(),!0),l.send()),o[a]=l}else{var f=t.document,p=f.createElement("script"),b="callback"+e();t[b]=u,p.onerror=c,p.src=a+"?callback="+b,f.body.appendChild(p)}},c={primary:"http://node-hnapi.herokuapp.com/",secondary:["http://node-hnapi.ap01.aws.af.cm/","http://node-hnapi-hp.hp.af.cm/","http://node-hnapi-rs.rs.af.cm/","http://node-hnapi.azurewebsites.net/"]},l=c.secondary.length,f=function(t,e,n,s){var i=l-1>t?function(){f(t+1,e,n,s)}:s;u(c.secondary[t]+e,n,i)},o=function(t,e,n){u(c.primary+t,e,function(){c.secondary.sort(function(){return.5-Math.random()}),f(0,t,e,n)})},p={urls:c,news:function(t,e){o("news",t,e)},news2:function(t,e){o("news2",t,e)},item:function(t,e,n){o("item/"+t,e,n)},comments:function(t,e,n){o("comments/"+t,e,n)}};t.hnapi=p}(window),function(t){var e=t.document,n=function(t,n){var s=e.documentElement,i=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;return i.call(t,n)},s=function(t,e){var s=!1;do s=n(t,e);while(!s&&(t=t.parentNode)&&t.ownerDocument);return s?t:!1};t.ibento=function(t,n,i){var r=e.body;r.addEventListener(n,function(e){var n=s(e.target,t);n&&i.call(r,e,n)})}}(window),"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e="classList",n="prototype",s=(t.HTMLElement||t.Element)[n],i=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=r.call(t.className),n=e?e.split(/\s+/):[],s=0,i=n.length;i>s;s++)this.push(n[s]);this._updateClassName=function(){t.className=""+this}},l=c[n]=[],f=function(){return new c(this)};if(a[n]=Error[n],l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==u(this,t)},l.add=function(){var t,e=arguments,n=0,s=e.length,i=!1;do t=e[n]+"",-1===u(this,t)&&(this.push(t),i=!0);while(s>++n);i&&this._updateClassName()},l.remove=function(){var t,e=arguments,n=0,s=e.length,i=!1;do{t=e[n]+"";var r=u(this,t);-1!==r&&(this.splice(r,1),i=!0)}while(s>++n);i&&this._updateClassName()},l.toggle=function(t,e){t+="";var n=this.contains(t),s=n?e!==!0&&"remove":e!==!1&&"add";return s&&this[s](t),n},l.toString=function(){return this.join(" ")},i.defineProperty){var p={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(s,e,p)}catch(b){-2146823252===b.number&&(p.enumerable=!1,i.defineProperty(s,e,p))}}else i[n].__defineGetter__&&s.__defineGetter__(e,f)}}(self),function(t){TEMPLATES={"comments-toggle":new t({code:function(t,e,n){var s=this;return s.b(n=n||""),s.b('<button class="comments-toggle">'),s.b(s.v(s.f("comments_count",t,e,0))),s.b(" "),s.b(s.v(s.f("i_reply",t,e,0))),s.b("</button>"),s.fl()},partials:{},subs:{}}),comments:new t({code:function(t,e,n){var s=this;return s.b(n=n||""),s.s(s.f("comments",t,e,1),t,e,0,13,189,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<li><p class="metadata"><b>'),n.b(n.v(n.f("user",t,e,0))),n.b('</b> <time><a href="#" data-id="'),n.b(n.v(n.f("id",t,e,0))),n.b('" class="comment-permalink">'),n.b(n.v(n.f("time_ago",t,e,0))),n.b("</a></time></p><p>"),n.b(n.t(n.f("content",t,e,0))),n.b("<ul>"),n.b(n.rp("<comments_list0",t,e,"")),n.b("</ul></li>")}),t.pop()),s.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),"post-comments":new t({code:function(t,e,n){var s=this;return s.b(n=n||""),s.b('<div class="post-content">'),s.s(s.f("has_post",t,e,1),t,e,0,39,577,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<header><h1><a href="'),n.b(n.v(n.f("url",t,e,0))),n.b('" target="_blank">'),n.b(n.v(n.f("title",t,e,0))),n.b("<br>"),n.s(n.f("user",t,e,1),t,e,0,107,170,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.s(n.f("domain",t,e,1),t,e,0,118,159,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",t,e,0))),n.b("</span>")}),t.pop())}),t.pop()),n.b('</a></h1><p class="metadata">'),n.s(n.f("user",t,e,1),t,e,0,217,412,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b('<span class="inline-block">'),n.b(n.v(n.f("points",t,e,0))),n.b(" "),n.b(n.v(n.f("i_point",t,e,0))),n.b(" by "),n.b(n.v(n.f("user",t,e,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",t,e,0))),n.s(n.f("comments_count",t,e,1),t,e,0,344,386,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",t,e,0))),n.b(" "),n.b(n.v(n.f("i_comment",t,e,0)))}),t.pop()),n.b("</span>")}),t.pop()),n.s(n.f("user",t,e,1),t,e,1,0,0,"")||(n.b('<span class="inline-block">'),n.b(n.v(n.f("time_ago",t,e,0))),n.b("</span>")),n.b('<a href="'),n.b(n.v(n.f("hn_url",t,e,0))),n.b('" target="_blank" class="external-link">'),n.b(n.v(n.f("short_hn_url",t,e,0))),n.b("</a></p></header>")}),t.pop()),s.s(s.f("has_content",t,e,1),t,e,0,606,929,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<section class="grouped-tableview">'),n.b(n.t(n.f("content",t,e,0))),n.s(n.f("has_poll",t,e,1),t,e,0,667,906,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b('<ul class="poll">'),n.s(n.f("poll",t,e,1),t,e,0,693,892,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b('<li title="'),n.b(n.v(n.f("percentage",t,e,0))),n.b('%"><span class="poll-details"><b>'),n.b(n.v(n.f("item",t,e,0))),n.b('</b> <span class="points">'),n.b(n.v(n.f("points",t,e,0))),n.b(" "),n.b(n.v(n.f("i_point",t,e,0))),n.b('</span></span><div class="poll-bar"><span style="width: '),n.b(n.v(n.f("width",t,e,0))),n.b('"></span></div></li>')}),t.pop()),n.b("</ul>")}),t.pop()),n.b("</section>")}),t.pop()),s.b('</div><section class="comments">'),s.s(s.f("loading",t,e,1),t,e,0,989,1030,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<div class="loader">Loading&hellip;</div>')}),t.pop()),s.s(s.f("load_error",t,e,1),t,e,0,1057,1140,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<div class="load-error">Couldn\'t load comments.<br><button>Try again</button></div>')}),t.pop()),s.s(s.f("loading",t,e,1),t,e,1,0,0,"")||s.s(s.f("load_error",t,e,1),t,e,1,0,0,"")||(s.s(s.f("has_comments",t,e,1),t,e,0,1199,1226,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b("<ul>"),n.b(n.rp("<comments_list0",t,e,"")),n.b("</ul>")}),t.pop()),s.s(s.f("has_comments",t,e,1),t,e,1,0,0,"")||s.b('<p class="no-comments">No comments.</p>')),s.b("</section>"),s.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),post:new t({code:function(t,e,n){var s=this;return s.b(n=n||""),s.b('<li id="story-'),s.b(s.v(s.f("id",t,e,0))),s.b('" data-index="'),s.b(s.v(s.f("i",t,e,0))),s.b('" class="post-'),s.b(s.v(s.f("type",t,e,0))),s.b('"><a href="'),s.b(s.v(s.f("url",t,e,0))),s.b('" class="'),s.s(s.f("detail_disclosure",t,e,1),t,e,0,110,127,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b("detail-disclosure")}),t.pop()),s.s(s.f("disclosure",t,e,1),t,e,0,164,174,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b("disclosure")}),t.pop()),s.b(" "),s.s(s.f("selected",t,e,1),t,e,0,203,211,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b("selected")}),t.pop()),s.b('"><div class="number">'),s.b(s.v(s.f("i",t,e,0))),s.b('.</div><div class="story"><b>'),s.b(s.v(s.f("title",t,e,0))),s.b("</b>"),s.s(s.f("user",t,e,1),t,e,0,302,594,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<span class="metadata">'),n.s(n.f("domain",t,e,1),t,e,0,336,381,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",t,e,0))),n.b("</span><br>")}),t.pop()),n.b('<span class="inline-block">'),n.b(n.v(n.f("points",t,e,0))),n.b(" "),n.b(n.v(n.f("i_point",t,e,0))),n.b(" by "),n.b(n.v(n.f("user",t,e,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",t,e,0))),n.s(n.f("comments_count",t,e,1),t,e,0,519,561,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",t,e,0))),n.b(" "),n.b(n.v(n.f("i_comment",t,e,0)))}),t.pop()),n.b("</span></span>")}),t.pop()),s.s(s.f("user",t,e,1),t,e,1,0,0,"")||(s.b('<span class="metadata">'),s.s(s.f("domain",t,e,1),t,e,0,646,691,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",t,e,0))),n.b("</span><br>")}),t.pop()),s.b('<span class="inline-block">'),s.b(s.v(s.f("time_ago",t,e,0))),s.b("</span></span>")),s.b("</div></a>"),s.s(s.f("detail_disclosure",t,e,1),t,e,0,796,870,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<a href="#/item/'),n.b(n.v(n.f("id",t,e,0))),n.b('" class="detail-disclosure-button"><span></span></a>')}),t.pop()),s.b("</li>"),s.fl()},partials:{},subs:{}}),"stories-load":new t({code:function(t,e,n){var s=this;return s.b(n=n||""),s.s(s.f("loading",t,e,1),t,e,0,12,53,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<div class="loader">Loading&hellip;</div>')}),t.pop()),s.s(s.f("load_error",t,e,1),t,e,0,80,132,"{{ }}")&&(s.rs(t,e,function(t,e,n){n.b('<div class="load-error">Couldn\'t load stories.</div>')}),t.pop()),s.fl()},partials:{},subs:{}})}}(Hogan.Template);
//@ sourceMappingURL=scripts-web.js.map