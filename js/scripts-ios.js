// tappable.js
(function(e,t){typeof define=="function"&&define.amd?define("tappable",[],function(){return t(e,window.document),e.tappable}):t(e,window.document)})(this,function(e,t){var n=Math.abs,r=function(){},i={noScroll:!1,activeClass:"tappable-active",onTap:r,onStart:r,onMove:r,onMoveOut:r,onMoveIn:r,onEnd:r,onCancel:r,allowClick:!1,boundMargin:50,noScrollDelay:0,activeClassDelay:0,inactiveClassDelay:0},s="ontouchend"in document,o={start:s?"touchstart":"mousedown",move:s?"touchmove":"mousemove",end:s?"touchend":"mouseup"},u=function(e,n){var r=t.elementFromPoint(e,n);return r.nodeType==3&&(r=r.parentNode),r},a=function(e){var t=e.target;if(t)return t;var n=e.targetTouches[0];return u(n.clientX,n.clientY)},f=function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},l=function(e,t){if(!t)return;if(e.classList){e.classList.add(t);return}if(f(e.className).indexOf(t)>-1)return;e.className=f(e.className+" "+t)},c=function(e,t){if(!t)return;if(e.classList){e.classList.remove(t);return}e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1")},h=function(e,n){var r=t.documentElement,i=r.matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector;return i.call(e,n)},p=function(e,t){var n=!1;do n=h(e,t);while(!n&&(e=e.parentNode)&&e.ownerDocument);return n?e:!1};e.tappable=function(e,n){typeof n=="function"&&(n={onTap:n});var r={};for(var s in i)r[s]=n[s]||i[s];var f=r.containerElement||t.body,h,v,m,g,y,b=!1,w=!1,E=r.activeClass,S=r.activeClassDelay,x,T=r.inactiveClassDelay,N,C=r.noScroll,k=r.noScrollDelay,L,A=r.boundMargin;f.addEventListener(o.start,function(t){var n=p(a(t),e);if(!n)return;S?(clearTimeout(x),x=setTimeout(function(){l(n,E)},S)):l(n,E),T&&n==v&&clearTimeout(N),m=t.clientX,g=t.clientY;if(!m||!g){var i=t.targetTouches[0];m=i.clientX,g=i.clientY}h=n,b=!1,w=!1,y=C?n.getBoundingClientRect():null,k&&(clearTimeout(L),C=!1,L=setTimeout(function(){C=!0},k)),r.onStart.call(f,t,n)},!1),f.addEventListener(o.move,function(e){if(!h)return;C?e.preventDefault():clearTimeout(x);var t=e.target,n=e.clientX,i=e.clientY;if(!t||!n||!i){var s=e.changedTouches[0];n||(n=s.clientX),i||(i=s.clientY),t||(t=u(n,i))}C?n>y.left-A&&n<y.right+A&&i>y.top-A&&i<y.bottom+A?(w=!1,l(h,E),r.onMoveIn.call(f,e,t)):(w=!0,c(h,E),r.onMoveOut.call(f,e,t)):!b&&Math.abs(i-g)>10&&(b=!0,c(h,E),r.onCancel.call(t,e)),r.onMove.call(f,e,t)},!1),f.addEventListener(o.end,function(e){if(!h)return;clearTimeout(x);if(T){S&&!b&&l(h,E);var t=h;N=setTimeout(function(){c(t,E)},T)}else c(h,E);r.onEnd.call(f,e,h);var n=e.which==3||e.button==2;!b&&!w&&!n&&r.onTap.call(f,e,h),v=h,h=null,setTimeout(function(){m=g=null},400)},!1),f.addEventListener("touchcancel",function(e){if(!h)return;c(h,E),h=m=g=null,r.onCancel.call(f,e)},!1),r.allowClick||f.addEventListener("click",function(t){var n=p(t.target,e);n?t.preventDefault():m&&g&&Math.abs(t.clientX-m)<25&&Math.abs(t.clientY-g)<25&&(t.stopPropagation(),t.preventDefault())},!1)}});
// tween.js
Date.now===undefined&&(Date.now=function(){return(new Date).valueOf()});var TWEEN=TWEEN||function(){var e=[];return{REVISION:"8dev",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},update:function(t){if(e.length===0)return!1;var n=0,r=e.length;t=t!==undefined?t:Date.now();while(n<r)e[n].update(t)?n++:(e.splice(n,1),r--);return!0}}}();TWEEN.Tween=function(e){var t=e,n={},r={},i=1e3,s=0,o=null,u=TWEEN.Easing.Linear.None,a=TWEEN.Interpolation.Linear,f=[],l=null,c=!1,h=null,p=null;this.to=function(e,t){return t!==undefined&&(i=t),r=e,this},this.start=function(e){TWEEN.add(this),c=!1,o=e!==undefined?e:Date.now(),o+=s;for(var i in r){if(t[i]===null)continue;if(r[i]instanceof Array){if(r[i].length===0)continue;r[i]=[t[i]].concat(r[i])}n[i]=t[i]}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(e){return s=e,this},this.easing=function(e){return u=e,this},this.interpolation=function(e){return a=e,this},this.chain=function(){return f=arguments,this},this.onStart=function(e){return l=e,this},this.onUpdate=function(e){return h=e,this},this.onComplete=function(e){return p=e,this},this.update=function(e){if(e<o)return!0;c===!1&&(l!==null&&l.call(t),c=!0);var s=(e-o)/i;s=s>1?1:s;var d=u(s);for(var v in n){var m=n[v],g=r[v];g instanceof Array?t[v]=a(g,d):t[v]=m+(g-m)*d}h!==null&&h.call(t,d);if(s==1){p!==null&&p.call(t);for(var y=0,b=f.length;y<b;y++)f[y].start(e);return!1}return!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-0.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)))},Out:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/r)+1)},InOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?TWEEN.Easing.Bounce.In(e*2)*.5:TWEEN.Easing.Bounce.Out(e*2-1)*.5+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n=0,r=e.length-1,i=Math.pow,s=TWEEN.Interpolation.Utils.Bernstein,o;for(o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1,r;if(e[t])return e[t];for(r=t;r>1;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,n,r,i){var s=(n-e)*.5,o=(r-t)*.5,u=i*i,a=i*u;return(2*t-2*n+s+o)*a+(-3*t+3*n-2*s-o)*u+s*i+t}}};
// requestanimationframe.js
(function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})();