// tappable.js
(function(t,e){"function"==typeof define&&define.amd?define("tappable",[],function(){return e(t,window.document),t.tappable}):e(t,window.document)})(this,function(t,e){var n=(Math.abs,function(){}),r={noScroll:!1,activeClass:"tappable-active",onTap:n,onStart:n,onMove:n,onMoveOut:n,onMoveIn:n,onEnd:n,onCancel:n,allowClick:!1,boundMargin:50,noScrollDelay:0,activeClassDelay:0,inactiveClassDelay:0},i="ontouchend"in document,o={start:i?"touchstart":"mousedown",move:i?"touchmove":"mousemove",end:i?"touchend":"mouseup"},a=function(t,n){var r=e.elementFromPoint(t,n);return 3==r.nodeType&&(r=r.parentNode),r},s=function(t){var e=t.target;if(e)return e;var n=t.targetTouches[0];return a(n.clientX,n.clientY)},u=function(t){return t.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},c=function(t,e){return e?t.classList?(t.classList.add(e),void 0):(u(t.className).indexOf(e)>-1||(t.className=u(t.className+" "+e)),void 0):void 0},l=function(t,e){return e?t.classList?(t.classList.remove(e),void 0):(t.className=t.className.replace(RegExp("(^|\\s)"+e+"(?:\\s|$)"),"$1"),void 0):void 0},f=function(t,n){var r=e.documentElement,i=r.matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector;return i.call(t,n)},p=function(t,e){var n=!1;do n=f(t,e);while(!n&&(t=t.parentNode)&&t.ownerDocument);return n?t:!1};t.tappable=function(t,n){"function"==typeof n&&(n={onTap:n});var i={};for(var u in r)i[u]=n[u]||r[u];var f,h,d,m,v,y,b,g,w=i.containerElement||e.body,S=!1,x=!1,T=i.activeClass,_=i.activeClassDelay,E=i.inactiveClassDelay,M=i.noScroll,N=i.noScrollDelay,L=i.boundMargin;w.addEventListener(o.start,function(e){var n=p(s(e),t);if(n){if(_?(clearTimeout(y),y=setTimeout(function(){c(n,T)},_)):c(n,T),E&&n==h&&clearTimeout(b),d=e.clientX,m=e.clientY,!d||!m){var r=e.targetTouches[0];d=r.clientX,m=r.clientY}f=n,S=!1,x=!1,v=M?n.getBoundingClientRect():null,N&&(clearTimeout(g),M=!1,g=setTimeout(function(){M=!0},N)),i.onStart.call(w,e,n)}},!1),w.addEventListener(o.move,function(t){if(f){M?t.preventDefault():clearTimeout(y);var e=t.target,n=t.clientX,r=t.clientY;if(!e||!n||!r){var o=t.changedTouches[0];n||(n=o.clientX),r||(r=o.clientY),e||(e=a(n,r))}M?n>v.left-L&&v.right+L>n&&r>v.top-L&&v.bottom+L>r?(x=!1,c(f,T),i.onMoveIn.call(w,t,e)):(x=!0,l(f,T),i.onMoveOut.call(w,t,e)):!S&&Math.abs(r-m)>10&&(S=!0,l(f,T),i.onCancel.call(e,t)),i.onMove.call(w,t,e)}},!1),w.addEventListener(o.end,function(t){if(f){if(clearTimeout(y),E){_&&!S&&c(f,T);var e=f;b=setTimeout(function(){l(e,T)},E)}else l(f,T);i.onEnd.call(w,t,f);var n=3==t.which||2==t.button;S||x||n||i.onTap.call(w,t,f),h=f,f=null,setTimeout(function(){d=m=null},400)}},!1),w.addEventListener("touchcancel",function(t){f&&(l(f,T),f=d=m=null,i.onCancel.call(w,t))},!1),i.allowClick||w.addEventListener("click",function(e){var n=p(e.target,t);n?e.preventDefault():d&&m&&25>Math.abs(e.clientX-d)&&25>Math.abs(e.clientY-m)&&(e.stopPropagation(),e.preventDefault())},!1)}});
// tween.js
var TWEEN=TWEEN||function(){var t=[];return{REVISION:"10",getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e){if(0===t.length)return!1;var n=0,r=t.length;for(e=void 0!==e?e:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();r>n;)t[n].update(e)?n++:(t.splice(n,1),r--);return!0}}}();TWEEN.Tween=function(t){var e=t,n={},r={},i={},o=1e3,a=0,u=0,s=null,c=TWEEN.Easing.Linear.None,l=TWEEN.Interpolation.Linear,f=[],h=null,p=!1,d=null,m=null;for(var v in t)n[v]=parseFloat(t[v],10);this.to=function(t,e){return void 0!==e&&(o=e),r=t,this},this.start=function(t){TWEEN.add(this),p=!1,s=void 0!==t?t:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),s+=u;for(var o in r){if(r[o]instanceof Array){if(0===r[o].length)continue;r[o]=[e[o]].concat(r[o])}n[o]=e[o],n[o]instanceof Array==!1&&(n[o]*=1),i[o]=n[o]||0}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(t){return u=t,this},this.repeat=function(t){return a=t,this},this.easing=function(t){return c=t,this},this.interpolation=function(t){return l=t,this},this.chain=function(){return f=arguments,this},this.onStart=function(t){return h=t,this},this.onUpdate=function(t){return d=t,this},this.onComplete=function(t){return m=t,this},this.update=function(t){if(s>t)return!0;p===!1&&(null!==h&&h.call(e),p=!0);var v=(t-s)/o;v=v>1?1:v;var g=c(v);for(var y in r){var b=n[y]||0,w=r[y];w instanceof Array?e[y]=l(w,g):("string"==typeof w&&(w=b+parseFloat(w,10)),e[y]=b+(w-b)*g)}if(null!==d&&d.call(e,g),1==v){if(a>0){isFinite(a)&&a--;for(var y in i)"string"==typeof r[y]&&(i[y]=i[y]+parseFloat(r[y],10)),n[y]=i[y];return s=t+u,!0}null!==m&&m.call(e);for(var E=0,M=f.length;M>E;E++)f[E].start(t);return!1}return!0}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:1>(t*=2)?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*2*Math.PI/r)))},Out:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*2*Math.PI/r)+1)},InOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),1>(t*=2)?-.5*n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*2*Math.PI/r):.5*n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*2*Math.PI/r)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return 1>(t*=2)?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=TWEEN.Interpolation.Utils.Linear;return 0>e?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){var n,r=0,i=t.length-1,o=Math.pow,a=TWEEN.Interpolation.Utils.Bernstein;for(n=0;i>=n;n++)r+=o(1-e,i-n)*o(e,n)*t[n]*a(i,n);return r},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(0>e&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):0>e?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[i+1>n?n:i+1],t[i+2>n?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=TWEEN.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n,r=1;if(t[e])return t[e];for(n=e;n>1;n--)r*=n;return t[e]=r}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),u=i*i,s=i*u;return(2*e-2*n+o+a)*s+(-3*e+3*n-2*o-a)*u+o*i+e}}};
// requestanimationframe.js
(function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;e.length>n&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})})();