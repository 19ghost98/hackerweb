// ruto.js
(function(n){var o=[],r=function(){},t={defaultPath:"/",before:r,on:r,notfound:r},e={current:null,previous:null,config:function(n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o]);return e},add:function(n,r,t){return n&&r&&("function"==typeof r&&(t=r,r=null),o.push({path:n,name:r,fn:t||function(){}})),e},go:function(n){return location.hash=n,e},back:function(n){return e.previous?(history.back(),e.previous=null):n&&(location.hash=n),e}},a=function(){var n=location.hash.slice(1),r=!1,a=e.current;n||(n=t.defaultPath),a&&a!=e.previous&&(e.previous=a),e.current=n;for(var u=0,l=o.length;l>u&&!r;u++){var c=o[u],i=c.path,f=c.name,h=c.fn;if("string"==typeof i)i.toLowerCase()==n.toLowerCase()&&(t.before.call(e,i,f),h.call(e),t.on.call(e,i,f),r=!0);else{var s=n.match(i);s&&(t.before.call(e,i,f,s),h.apply(e,s),t.on.call(e,i,f,s),r=!0)}}return r||t.notfound.call(e,i),e};e.init=function(){return n.addEventListener("hashchange",a),a()},e.reload=a,n.ruto=e})(window);
// amplify.store.js
(function(e,t){function r(e,r){n.addType(e,function(o,i,u){var l,s,p,c,f=i,d=(new Date).getTime();if(!o){f={},c=[],p=0;try{for(o=r.length;o=r.key(p++);)a.test(o)&&(s=JSON.parse(r.getItem(o)),s.expires&&d>=s.expires?c.push(o):f[o.replace(a,"")]=s.data);for(;o=c.pop();)r.removeItem(o)}catch(y){}return f}if(o="__amplify__"+o,i===t){if(l=r.getItem(o),s=l?JSON.parse(l):{expires:-1},!(s.expires&&d>=s.expires))return s.data;r.removeItem(o)}else if(null===i)r.removeItem(o);else{s=JSON.stringify({data:i,expires:u.expires?d+u.expires:null});try{r.setItem(o,s)}catch(y){n[e]();try{r.setItem(o,s)}catch(y){throw n.error()}}}return f})}var n=e.store=function(e,t,r){var a=n.type;return r&&r.type&&r.type in n.types&&(a=r.type),n.types[a](e,t,r||{})};n.types={},n.type=null,n.addType=function(e,t){n.type||(n.type=e),n.types[e]=t,n[e]=function(t,r,a){return a=a||{},a.type=e,n(t,r,a)}},n.error=function(){return"amplify.store quota exceeded"};var a=/^__amplify__/;for(var o in{localStorage:1,sessionStorage:1})try{window[o].setItem("__amplify__","x"),window[o].removeItem("__amplify__"),r(o,window[o])}catch(i){}if(!n.types.localStorage&&window.globalStorage)try{r("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===n.type&&(n.type="globalStorage")}catch(i){}(function(){if(!n.types.localStorage){var e=document.createElement("div"),r="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(r)}catch(a){return e.parentNode.removeChild(e),t}n.addType("userData",function(a,o,i){e.load(r);var u,l,s,p,c,f=o,d=(new Date).getTime();if(!a){for(f={},c=[],p=0;u=e.XMLDocument.documentElement.attributes[p++];)l=JSON.parse(u.value),l.expires&&d>=l.expires?c.push(u.name):f[u.name]=l.data;for(;a=c.pop();)e.removeAttribute(a);return e.save(r),f}if(a=a.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),a=a.replace(/^-/,"_-"),o===t){if(u=e.getAttribute(a),l=u?JSON.parse(u):{expires:-1},!(l.expires&&d>=l.expires))return l.data;e.removeAttribute(a)}else null===o?e.removeAttribute(a):(s=e.getAttribute(a),l=JSON.stringify({data:o,expires:i.expires?d+i.expires:null}),e.setAttribute(a,l));try{e.save(r)}catch(y){null===s?e.removeAttribute(a):e.setAttribute(a,s),n.userData();try{e.setAttribute(a,l),e.save(r)}catch(y){throw null===s?e.removeAttribute(a):e.setAttribute(a,s),n.error()}}return f})}})(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var r={},a={};n.addType("memory",function(n,o,i){return n?o===t?e(r[n]):(a[n]&&(clearTimeout(a[n]),delete a[n]),null===o?(delete r[n],null):(r[n]=o,i.expires&&(a[n]=setTimeout(function(){delete r[n],delete a[n]},i.expires)),o)):e(r)})}()})(this.amplify=this.amplify||{});
// hogan.js
var Hogan={};(function(t,e){function r(t,e,r,n){function i(){}function o(){}i.prototype=t,o.prototype=t.subs;var s,a=new i;a.subs=new o,a.subsText={},a.ib();for(s in e)a.subs[s]=e[s],a.subsText[s]=n;for(s in r)a.partials[s]=r[s];return a}function n(t){return(null===t||void 0===t?"":t)+""}function i(t){return t=n(t),c.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(u,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,e,r,n){t=t||{},this.r=t.code||this.r,this.c=r,this.options=n,this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(){return""},v:i,t:n,render:function(t,e,r){return this.ri([t],e||{},r)},ri:function(t,e,r){return this.r(t,e,r)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw Error("No compiler available.");i=this.c.compile(i,this.options)}return i?(this.partials[t].base=i,n.subs&&(void 0===this.activeSub&&(e.stackText=this.text),i=r(i,n.subs,n.partials,e.stackText||this.text)),this.partials[t].instance=i,i):null},rp:function(t,e,r,n){var i=this.ep(t,r);return i?i.ri(e,r,n):""},rs:function(t,e,r){var n=t[t.length-1];if(!f(n))return r(t,e,this),void 0;for(var i=0;n.length>i;i++)t.push(n[i]),r(t,e,this),t.pop()},s:function(t,e,r,n,i,o,s){var a;return f(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,r,n,i,o,s)),a=""===t||!!t,!n&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,r,n){var i=t.split("."),o=this.f(i[0],e,r,n),s=null;if("."===t&&f(e[e.length-2]))o=e[e.length-1];else for(var a=1;i.length>a;a++)o&&"object"==typeof o&&null!=o[i[a]]?(s=o,o=o[i[a]]):o="";return n&&!o?!1:(n||"function"!=typeof o||(e.push(s),o=this.mv(o,e,r),e.pop()),o)},f:function(t,e,r,n){for(var i=!1,o=null,s=!1,a=e.length-1;a>=0;a--)if(o=e[a],o&&"object"==typeof o&&null!=o[t]){i=o[t],s=!0;break}return s?(n||"function"!=typeof i||(i=this.mv(i,e,r)),i):n?!1:""},ls:function(t,e,r,i,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(n(t.call(e,i)),e,r)),this.options.delimiters=s,!1},ct:function(t,e,r){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,r)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,r,n,i,o,s){var a,u=e[e.length-1],l=t.call(u);return"function"==typeof l?n?!0:(a=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,u,r,a.substring(i,o),s)):l},mv:function(t,e,r){var i=e[e.length-1],o=t.call(i);return"function"==typeof o?this.ct(n(o.call(i)),i,r):o},sub:function(t,e,r,n){var i=this.subs[t];i&&(this.activeSub=t,i(e,r,this,n),this.activeSub=!1)}};var o=/&/g,s=/</g,a=/>/g,u=/\'/g,l=/\"/g,c=/[&<>\"\']/,f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}})("undefined"!=typeof exports?exports:Hogan);
// hnapi.js
(function(t){var e=function(){return+new Date},n=!!t.XDomainRequest,r="withCredentials"in new XMLHttpRequest||n,i=!1,o=15e3,a={};try{i=new Worker("js/hnapi-worker.js"),i.addEventListener("message",function(t){var e=t.data,n=e.url||"";if(a[n]){var r=a[n];e.error?r.error(e.error):r.success(e.response),delete a[n]}},!1)}catch(s){}var u=function(s,u,c){if(u||(u=function(){}),c||(c=function(){}),r)if(i)a[s]={success:u,error:c},i.postMessage({url:s,timeout:o});else{var l=a[s]||(n?new XDomainRequest:new XMLHttpRequest);l._timeout&&clearTimeout(l._timeout),l._timeout=setTimeout(function(){l.abort()},o),l.onload=function(){clearTimeout(this._timeout),delete a[s];try{u(JSON.parse(this.responseText))}catch(t){c(t)}},l.onerror=l.onabort=l.ontimeout=function(t){clearTimeout(this._timeout),delete a[s],c(t)},(1>=l.readyState||n)&&(l.open("GET",s+"?"+e(),!0),l.send()),a[s]=l}else{var p=t.document,f=p.createElement("script"),h="callback"+e();t[h]=u,f.onerror=c,f.src=s+"?callback="+h,p.body.appendChild(f)}},c={primary:"http://node-hnapi.herokuapp.com/",secondary:["http://node-hnapi.ap01.aws.af.cm/","http://node-hnapi-hp.hp.af.cm/","http://node-hnapi-rs.rs.af.cm/","http://node-hnapi.azurewebsites.net/","https://nodehnapi-5330.onmodulus.net/"]},l=c.secondary.length,p=function(t,e,n,r){var i=l-1>t?function(){p(t+1,e,n,r)}:r;u(c.secondary[t]+e,n,i)},a=function(t,e,n){u(c.primary+t,e,function(){c.secondary.sort(function(){return.5-Math.random()}),p(0,t,e,n)})},f={urls:c,news:function(t,e){a("news",t,e)},news2:function(t,e){a("news2",t,e)},item:function(t,e,n){a("item/"+t,e,n)},comments:function(t,e,n){a("comments/"+t,e,n)}};t.hnapi=f})(window);